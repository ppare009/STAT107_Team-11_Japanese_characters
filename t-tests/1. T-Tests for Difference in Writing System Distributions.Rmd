---
title: "T-Test: Difference in Writing System Distribution Means"
output: html_document
date: "2025-12-03"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

This document is meant to compute the Two Sample T-Tests between the number of Hiragana, Katakana, and Kanji characters in our dataset. This is to determine whether or not there is a difference in the mean of characters of these three writing systems within all of the gathered novels. 

```{r load_dataset}
jp_novels_df <- read.csv("../Data Processing/jp_novels.csv") 

```


# Pre-test Screening

According to [The University of Austin, Texas](https://sites.utexas.edu/sos/guided/inferential/numeric/onecat/2-groups/independent/two-sample-t/), in order to run a Two-Sample T-Test, there are some assumptions to be made:

1. Both datasets are normally distributed.

2. Each each observation in both datasets are independent.

3. The population variances of both datasets are equal.


Assuming that the datasets are normally distributed (as suggested by the distributions of the proportions of each writing system), it is important to check that the variances of the datasets are equal as well.

```{r pre_test}
# [STEP 1]: Create a new column in `jp_novels_df` that represents the proportion of each novel's Japanese characters that are part of a given writing system.
jp_novels_df$hiragana_proportion <- jp_novels_df$hiragana / jp_novels_df$japanese_total
jp_novels_df$katakana_proportion <- jp_novels_df$katakana / jp_novels_df$japanese_total
jp_novels_df$kanji_proportion <- jp_novels_df$kanji / jp_novels_df$japanese_total

# [STEP 2]: Calculate the variance
var(jp_novels_df$hiragana_proportion)
var(jp_novels_df$katakana_proportion)
var(jp_novels_df$kanji_proportion)
```
Since the sample variances for the proportional values of Hiragana, Katakana, and Kanji in our sample are within 0.0015 characters of one another, it is reasonable to assume that the variances for each of these datasets are quite close to one another—if not equal.

Thus, knowing that condition 2 is met, and assuming conditions 1 and 3 are met, it is possible to continue with the two-sample t-tests.

Note that we are performing these t-tests for the proportional values of Hiragana, Katakana, and Kanji—as these are the measurements that we assume to be more normally distributed. 

# Test 1: Two-Sample T-Test for Difference in Means of Hiragana and Katakana

```{r hira_kata}
t.test(jp_novels_df$hiragana_proportion, jp_novels_df$katakana_proportion, 
       mu = 0, conf.level = 0.95)

```

Result:
- 95% Confidence Interval: [0.4001650 0.4786621]
- p-value: < 2.2e-16



# Test 2: Two-Sample T-Test for Difference in Means of Hiragana and Kanji

```{r hira_kanji}
t.test(jp_novels_df$hiragana_proportion, jp_novels_df$kanji_proportion, 
       mu = 0, conf.level = 0.95)

```
Result:
- 95% Confidence Interval: [0.1852005, 0.2680537]
- p-value: 1.916e-13



# Test 3: Two-Sample T-Test for Difference in Means of Katakana and Kanji

```{r kata_kanji}
t.test(jp_novels_df$katakana_proportion, jp_novels_df$kanji_proportion, 
       mu = 0, conf.level = 0.95)

```

Result:
- 95% Confidence Interval: [-0.2508933, -0.1746797]
- p-value: 1.231e-13


